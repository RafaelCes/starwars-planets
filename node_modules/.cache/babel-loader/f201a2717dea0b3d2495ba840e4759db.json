{"ast":null,"code":"import _objectSpread from\"/home/rafael/Documents/projects/starwars-planets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{useContext,useEffect}from'react';import PlanetsContext from'./PlanetsContext';export default function Filters(){var _useContext=useContext(PlanetsContext),filters=_useContext.filters,setFilters=_useContext.setFilters,data=_useContext.data,setFilterByName=_useContext.setFilterByName,applyFilters=_useContext.applyFilters,columnFilterOptions=_useContext.columnFilterOptions,newFilter=_useContext.newFilter,handleChangeNewFilter=_useContext.handleChangeNewFilter,setFilterByNumericValues=_useContext.setFilterByNumericValues,removeFilterByNumericValues=_useContext.removeFilterByNumericValues,newOrder=_useContext.newOrder,setNewOrder=_useContext.setNewOrder;var name=filters.filterByName.name,filterByNumericValues=filters.filterByNumericValues;var column=newFilter.column,comparison=newFilter.comparison,value=newFilter.value;useEffect(function(){applyFilters();},[filters]);var renderColumnOptions=function renderColumnOptions(){return columnFilterOptions.map(function(item){return/*#__PURE__*/React.createElement(\"option\",{key:item},item);});};var renderFilters=function renderFilters(){return filterByNumericValues.map(function(item){return/*#__PURE__*/React.createElement(\"div\",{key:item.column,\"data-testid\":\"filter\"},/*#__PURE__*/React.createElement(\"p\",null,item.column,' ',item.comparison,' ',item.value),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",onClick:function onClick(){return removeFilterByNumericValues(item.column);}},\"X\"));});};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"search-input\"},\"Pesquisa:\",/*#__PURE__*/React.createElement(\"input\",{type:\"text\",\"data-testid\":\"name-filter\",id:\"search-input\",value:name,onChange:function onChange(event){return setFilterByName(event.target.value);}})),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"column-filter\"},/*#__PURE__*/React.createElement(\"select\",{\"data-testid\":\"column-filter\",name:\"column\",id:\"column-filter\",value:column,onChange:handleChangeNewFilter},renderColumnOptions())),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"comparison-filter\"},/*#__PURE__*/React.createElement(\"select\",{\"data-testid\":\"comparison-filter\",name:\"comparison\",id:\"comparison-filter\",value:comparison,onChange:handleChangeNewFilter},/*#__PURE__*/React.createElement(\"option\",null,\"maior que\"),/*#__PURE__*/React.createElement(\"option\",null,\"menor que\"),/*#__PURE__*/React.createElement(\"option\",null,\"igual a\"))),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"value-filter\"},\"valor:\",/*#__PURE__*/React.createElement(\"input\",{type:\"number\",\"data-testid\":\"value-filter\",name:\"value\",id:\"value-filter\",value:value,onChange:handleChangeNewFilter})),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",\"data-testid\":\"button-filter\",onClick:setFilterByNumericValues},\"Adicionar filtro\"),/*#__PURE__*/React.createElement(\"select\",{\"data-testid\":\"column-sort\",value:newOrder.column,onChange:function onChange(event){return setNewOrder(_objectSpread(_objectSpread({},newOrder),{},{column:event.target.value}));}},data.length?Object.keys(data[0]).map(function(item){return/*#__PURE__*/React.createElement(\"option\",{key:item},item);}):''),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"asc\"},\"ascendente:\",/*#__PURE__*/React.createElement(\"input\",{type:\"radio\",id:\"asc\",name:\"sort\",\"data-testid\":\"column-sort-input-asc\",value:\"ASC\",checked:newOrder.sort==='ASC',onChange:function onChange(){return setNewOrder(_objectSpread(_objectSpread({},newOrder),{},{sort:'ASC'}));}})),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"desc\"},\"Descendente:\",/*#__PURE__*/React.createElement(\"input\",{type:\"radio\",id:\"desc\",name:\"sort\",\"data-testid\":\"column-sort-input-desc\",value:\"DESC\",checked:newOrder.sort==='DESC',onChange:function onChange(){return setNewOrder(_objectSpread(_objectSpread({},newOrder),{},{sort:'DESC'}));}})),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",\"data-testid\":\"column-sort-button\",onClick:function onClick(){return setFilters(_objectSpread(_objectSpread({},filters),{},{order:newOrder}));}},\"Ordenar\"),renderFilters());}","map":{"version":3,"sources":["/home/rafael/Documents/projects/starwars-planets/src/Filters.js"],"names":["React","useContext","useEffect","PlanetsContext","Filters","filters","setFilters","data","setFilterByName","applyFilters","columnFilterOptions","newFilter","handleChangeNewFilter","setFilterByNumericValues","removeFilterByNumericValues","newOrder","setNewOrder","name","filterByName","filterByNumericValues","column","comparison","value","renderColumnOptions","map","item","renderFilters","event","target","length","Object","keys","sort","order"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect } from 'react';\nimport PlanetsContext from './PlanetsContext';\n\nexport default function Filters() {\n  const {\n    filters,\n    setFilters,\n    data,\n    setFilterByName,\n    applyFilters,\n    columnFilterOptions,\n    newFilter,\n    handleChangeNewFilter,\n    setFilterByNumericValues,\n    removeFilterByNumericValues,\n    newOrder,\n    setNewOrder,\n  } = useContext(PlanetsContext);\n\n  const { filterByName: { name }, filterByNumericValues } = filters;\n  const { column, comparison, value } = newFilter;\n\n  useEffect(() => {\n    applyFilters();\n  }, [filters]);\n\n  const renderColumnOptions = () => (\n    columnFilterOptions.map((item) => <option key={ item }>{ item }</option>)\n  );\n\n  const renderFilters = () => filterByNumericValues.map((item) => (\n    <div key={ item.column } data-testid=\"filter\">\n      <p>\n        {item.column}\n        {' '}\n        {item.comparison}\n        {' '}\n        {item.value}\n      </p>\n      <button\n        type=\"button\"\n        onClick={ () => removeFilterByNumericValues(item.column) }\n      >\n        X\n      </button>\n    </div>\n  ));\n\n  return (\n    <div>\n\n      <label htmlFor=\"search-input\">\n        Pesquisa:\n        <input\n          type=\"text\"\n          data-testid=\"name-filter\"\n          id=\"search-input\"\n          value={ name }\n          onChange={ (event) => setFilterByName(event.target.value) }\n        />\n      </label>\n      <label htmlFor=\"column-filter\">\n        <select\n          data-testid=\"column-filter\"\n          name=\"column\"\n          id=\"column-filter\"\n          value={ column }\n          onChange={ handleChangeNewFilter }\n        >\n          {renderColumnOptions()}\n        </select>\n      </label>\n      <label htmlFor=\"comparison-filter\">\n        <select\n          data-testid=\"comparison-filter\"\n          name=\"comparison\"\n          id=\"comparison-filter\"\n          value={ comparison }\n          onChange={ handleChangeNewFilter }\n        >\n          <option>maior que</option>\n          <option>menor que</option>\n          <option>igual a</option>\n        </select>\n      </label>\n      <label htmlFor=\"value-filter\">\n        valor:\n        <input\n          type=\"number\"\n          data-testid=\"value-filter\"\n          name=\"value\"\n          id=\"value-filter\"\n          value={ value }\n          onChange={ handleChangeNewFilter }\n        />\n      </label>\n      <button\n        type=\"button\"\n        data-testid=\"button-filter\"\n        onClick={ setFilterByNumericValues }\n      >\n        Adicionar filtro\n      </button>\n      <select\n        data-testid=\"column-sort\"\n        value={ newOrder.column }\n        onChange={ (event) => setNewOrder({ ...newOrder, column: event.target.value }) }\n      >\n        {data.length\n          ? Object.keys(data[0]).map((item) => <option key={ item }>{ item }</option>)\n          : ''}\n      </select>\n      <label htmlFor=\"asc\">\n        ascendente:\n        <input\n          type=\"radio\"\n          id=\"asc\"\n          name=\"sort\"\n          data-testid=\"column-sort-input-asc\"\n          value=\"ASC\"\n          checked={ newOrder.sort === 'ASC' }\n          onChange={ () => setNewOrder({ ...newOrder, sort: 'ASC' }) }\n        />\n      </label>\n      <label htmlFor=\"desc\">\n        Descendente:\n        <input\n          type=\"radio\"\n          id=\"desc\"\n          name=\"sort\"\n          data-testid=\"column-sort-input-desc\"\n          value=\"DESC\"\n          checked={ newOrder.sort === 'DESC' }\n          onChange={ () => setNewOrder({ ...newOrder, sort: 'DESC' }) }\n        />\n      </label>\n      <button\n        type=\"button\"\n        data-testid=\"column-sort-button\"\n        onClick={ () => setFilters({ ...filters, order: newOrder }) }\n      >\n        Ordenar\n      </button>\n      {renderFilters()}\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}